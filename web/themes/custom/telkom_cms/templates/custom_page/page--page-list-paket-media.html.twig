{#
/**
 * @file
 * Theme override to display a single page.
 *
 * The doctype, html, head and body tags are not in this template. Instead they
 * can be found in the html.html.twig template in this directory.
 *
 * Available variables:
 *
 * General utility variables:
 * - base_path: The base URL path of the Drupal installation. Will usually be
 *   "/" unless you have installed Drupal in a sub-directory.
 * - is_front: A flag indicating if the current page is the front page.
 * - logged_in: A flag indicating if the user is registered and signed in.
 * - is_admin: A flag indicating if the user has permission to access
 *   administration pages.
 *
 * Site identity:
 * - front_page: The URL of the front page. Use this instead of base_path when
 *   linking to the front page. This includes the language domain or prefix.
 *
 * Page content (in order of occurrence in the default page.html.twig):
 * - node: Fully loaded node, if there is an automatically-loaded node
 *   associated with the page and the node ID is the second argument in the
 *   page's path (e.g. node/12345 and node/12345/revisions, but not
 *   comment/reply/12345).
 *
 * Regions:
 * - page.primary_menu_vertical: Items for the Side Navigation region.
 * - page.header: Items for the header region.
 * - page.primary_menu: Items for the Navigation region.
 * - page.welcome_text: Items for welcome message.
 * - page.top_first: Items for top first region.
 * - page.top_second: Items for top second region.
 * - page.top_third: Items for top third region.
 * - page.highlighted: Items for the highlighted region.
 * - page.page_title: Used by Current page Title.
 * - page.breadcrumb: Item for the Breadcrumb region.
 * - page.content: The main content of the current page.
 * - page.sidebar_first: Items for the first sidebar.
 * - page.sidebar_second: Items for the second sidebar.
 * - page.bottom_first: Items for the bottom first region.
 * - page.bottom_second: Items for the bottom Second region.
 * - page.bottom_third: Items for the bottom third region.
 * - page.bottom_forth: Items for the bottom forth region.
 * - page.footer_first: Items for the footer first region.
 * - page.footer_second: Items for the footer Second region.
 * - page.footer_third: Items for the footer third region.
 * - page.footer_menu: Items for the footer bottom region.
 * - page.auto_hidden_block: Hide items in this region.
 *
 * @see template_preprocess_page()
 * @see html.html.twig
 */
#}
<!-- Sidebar-->
{{page.sidebar_menu}}

<!-- Page content wrapper-->
<div class="content-wrapper">

    <!-- topbar start -->
      <header class="navbar navbar-light navbar-expand-md bg-white sticky-top shadow-sm px-4">
        <!-- button toggled sidenav start -->
        <button class="navbar-toggler border-0" type="button" id="sidebarToggle">
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- button toggled sidenav end -->
        <!-- navbar brand start -->
        {{page.title}}
        <!-- navbar brand start -->
        <ul class="navbar-nav ms-auto">
          {% if logged_in %}
            <li class="nav-item dropdown dropdown-notification">
                <a href="#" class="nav-link pe-3" id="notification" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="nav-notification">
                    <img src="{{ url('<front>')|render }}themes/custom/telkom_cms/assets/icons/ic-bell-new.svg" alt="">
                </div>
                <span class="badge badge-danger rounded-circle noti-icon-badge">{{unread_notification}}</span>
                </a>
                <div class="dropdown-menu notification-menu dropdown-menu-end animate slideIn"
                aria-labelledby="navbarDropdown">
                    {% for notif in notification %}
                        <a class="dropdown-item" href="{{notif.url}}">
                            {% if notif.is_read %}
                                {{notif.title}}
                            {% else %}
                                <b>{{notif.title}}</b>
                            {% endif %}
                        </a>
                        <div class="dropdown-divider"></div>
                        {% if loop.last %}
                            <a class="dropdown-item text-center text-primary" href="{{base_url}}/notification">Lihat Semua</a>
                        {% endif %}
                    {% endfor %}

                    {% if notification is empty %}
                        <a class="dropdown-item text-center" href="#">There is no notification</a>
                    {% endif %}
                </div>
            </li>
          {% endif %}

          {{page.user_navigation}}          
          
        </ul>
      </header>
      <!-- topbar end -->

      <!-- breadcrumb start -->
      {{page.breadcrumb}}
      <!-- breadcrumb end -->

      {{page.content.messages}}
      
      <!-- content start -->
      <div class="container-fluid px-4 mb-5">
            <h6 class="bundling-title">Media {{paket_name}}</h6>

            {# Input type hidden. will be used when doing ajax #}
            <input type='hidden' id='input_hidden_paket_id' value="{{paket_id}}" /> {# this is paket media page, contain all media, so value = empty. different with detail paket (there is a paket id) #}
            <input type='hidden' id='input_hidden_base_url' value="{{base_url}}" />
            <input type='hidden' id='input_hidden_request_uri' value="{{request_uri}}" />
            
            <!-- Tabs -->
            <ul class="nav nav-pills custom nav-tabs-dropdown" id="nav-tabs-dropdown" role="tablist">
                <li class="nav-item">
                    <button class="nav-link active" id='image-tab' data-bs-toggle="tab" data-bs-target=".image" type="button">Image</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" id='video-tab' data-bs-toggle="tab" data-bs-target=".video" type="button">Video</button>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent-table">
                <!-- Table Image -->
                <div class="tab-pane fade image show active">
                    <div class="card">
                        <div class="row">
                            <div class="col-md-8 py-3 section-media">
                                <div class="row justify-content-between align-items-center border-bottom pb-3">
                                    <div class="col-lg-4 ps-3">
                                        <a class="btn btn-primary" href="{{base_url}}/node/add/paket_media?{{paket_id ? 'paket_id=' ~ paket_id ~ '&'}}destination={{request_uri ~ '?showed_element=image-tab'}}">
                                            Add Media
                                        </a>
                                    </div>
                                    <div class="col-lg-4 d-flex align-items-center mt-2 mt-lg-0 pr-0">
                                        <label class="col-form-label">Search</label>
                                        <div class="w-100 ms-3 position-relative">
                                            <input type="text" class="form-control border" style="padding-right:30px" id='image-tab-search' />
                                            <svg class="search-loading" xmlns="http://www.w3.org/2000/svg" id="image-tab-search-icon" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none; margin: auto; background: rgb(255, 255, 255); shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                                                <g>
                                                <path d="M50 15A35 35 0 1 0 74.74873734152916 25.251262658470843" fill="none" stroke="#6091f0" stroke-width="12"></path>
                                                <path d="M49 3L49 27L61 15L49 3" fill="#6091f0"></path>
                                                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
                                                </g>
                                                <!-- [ldio] generated by https://loading.io/ -->
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 d-flex align-items-center mt-2 mt-lg-0 pr-0">
                                        <label class="col-form-label">Kategori</label>
                                        <div class="w-100 ms-3">
                                            <select class="form-control border" id='image-tab-filter-category'>
                                                <option value="">Semua Kategori</option>
                                            </select>
                                            <span class="dropdown-select-icon"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row pt-3" id="image-tab-container">
                                    {# <div class="col-lg-4 col-md-6 card-landing-page">
                                        <div class="card border">
                                            <img src="https://source.unsplash.com/random" class="card-img-top img-landing-page" alt="...">
                                            <div class="card-body">
                                            <p class="card-text">Praesent iaculis eros sitera amet urna varius, et interad dum massa consequat. </p>
                                            </div>
                                        </div>
                                    </div> #}
                                </div>
                            </div>
                            <div class="col-md-4 card-landing-page-right px-3">
                                <form class="row" id='image-tab-form'>
                                    <div class="form-group col-md-12">
                                        <label>Judul</label>
                                        <input type="text" id='image-tab-judul' class="form-control border">
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label>Dialihkan ke</label>
                                        <input type="text" id='image-tab-redirect' class="form-control border">
                                    </div>
                                    <div class="form-group col-md-12" id='image-tab-kategori'>
                                        <label>Kategori</label>
                                        {# <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="webpage">
                                            <label class="form-check-label" for="webpage">Web Page</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="webpage-mobile">
                                            <label class="form-check-label" for="webpage-mobile">Web Page - Mobile</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="printing">
                                            <label class="form-check-label" for="printing">Printing</label>
                                        </div> #}
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div id="image-tab-link-container">
                                            {# added with js #}
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label>Deskripsi</label>
                                        <textarea id='image-tab-deskripsi' cols="30" rows="4" class="form-control border"></textarea>
                                    </div>
                                    <div class="form-group d-flex justify-content-between">
                                        <input type='hidden' id='image-tab-media-id' value='' />
                                        <span id='image-tab-edit'></span>
                                        <button id='image-tab-simpan' type='button' class="btn btn-primary">Simpan</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Table Video -->
                <div class="tab-pane fade video">
                    <div class="card">
                        <div class="row">
                            <div class="col-md-8 py-3 section-media">
                                <div class="row justify-content-between align-items-center border-bottom pb-3">
                                    <div class="col-lg-4 ps-3">
                                        <a class="btn btn-primary" href="{{base_url}}/node/add/paket_video?{{paket_id ? 'paket_id=' ~ paket_id ~ '&'}}destination={{request_uri ~ '?showed_element=video-tab'}}">
                                            Add Video
                                        </a>
                                    </div>
                                    <div class="col-lg-4 d-flex align-items-center mt-2 mt-lg-0 pr-0">
                                        <label class="col-form-label">Search</label>
                                        <div class="w-100 ms-3 position-relative">
                                            <input type="text" class="form-control border" style="padding-right:30px" id='video-tab-search' />
                                            <svg class="search-loading" xmlns="http://www.w3.org/2000/svg" id="video-tab-search-icon" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none; margin: auto; background: rgb(255, 255, 255); shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                                                <g>
                                                <path d="M50 15A35 35 0 1 0 74.74873734152916 25.251262658470843" fill="none" stroke="#6091f0" stroke-width="12"></path>
                                                <path d="M49 3L49 27L61 15L49 3" fill="#6091f0"></path>
                                                <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
                                                </g>
                                                <!-- [ldio] generated by https://loading.io/ -->
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 d-flex align-items-center mt-2 mt-lg-0 pr-0">
                                        <label class="col-form-label">Kategori</label>
                                        <div class="w-100 ms-3">
                                            <select class="form-control border" id='video-tab-filter-category'>
                                                <option value="">Semua Kategori</option>
                                            </select>
                                            <span class="dropdown-select-icon"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row pt-3" id="video-tab-container">
                                    {# <div class="col-lg-4 col-md-6 card-landing-page">
                                        <div class="card border">
                                            <img src="https://source.unsplash.com/random" class="card-img-top img-landing-page" alt="...">
                                            <div class="card-body">
                                            <p class="card-text">Praesent iaculis eros sitera amet urna varius, et interad dum massa consequat. </p>
                                            </div>
                                        </div>
                                    </div> #}
                                </div>
                            </div>
                            <div class="col-md-4 card-landing-page-right px-3">
                                <form class="row" id='video-tab-form'>
                                    <div class="form-group col-md-12">
                                        <label>Judul</label>
                                        <input type="text" id='video-tab-judul' class="form-control border">
                                    </div>
                                    <div class="form-group col-md-12" id='video-tab-kategori'>
                                        <label>Kategori</label>
                                        {# <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="webpage">
                                            <label class="form-check-label" for="webpage">Web Page</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="webpage-mobile">
                                            <label class="form-check-label" for="webpage-mobile">Web Page - Mobile</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="printing">
                                            <label class="form-check-label" for="printing">Printing</label>
                                        </div> #}
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div id="video-tab-link-container">
                                            {# added with js #}
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <label>Deskripsi</label>
                                        <textarea id='video-tab-deskripsi' cols="30" rows="4" class="form-control border"></textarea>
                                    </div>
                                    <div class="form-group d-flex justify-content-between">
                                        <input type='hidden' id='video-tab-video-id' value='' />
                                        <span id='video-tab-edit'></span>
                                        <button id='video-tab-simpan' type='button' class="btn btn-primary">Simpan</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal (content added with js) -->
<div class="modal fade" id="detailMediaPreview" style="display:none;"></div>